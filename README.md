# snackbot
お菓子やジュースの購入・支払いによる購入金額管理をしてくれるSlackボット  
このボットを使用することで、Slack上でのボットとのチャットでの簡単なやり取りで、購入金額などの管理をすることができる

## ターゲット
自己申告制の商品販売を提供している  
- 研究室やオフィスなどでお菓子やジュースなどを販売している 
- 電子決済を導入するほどではない

## 既存の問題 
### ケース1
商品を購入するタイミングで集金箱にお金を入れているケース
- 購入時に現金、特に小銭がないと商品が購入できない
- 集金箱に小銭がたまるため、その管理が不便。小銭の両替は手数料がかかるし、かさばる。
### ケース2
各々の購入金額をアナログで管理し、月末やある程度金額がたまってから、管理者が各々に金額を請求するケース  
（例）各々が商品を購入するたびに、ホワイトボードの自分の購入金額を更新することで記録している    
- データ紛失の危険性がある
  （例）ホワイトボードで管理している場合、誤って触れてしまい購入金額が消えると復元不可能  
- 詳細な購入記録を管理できない。アナログでは全体の購入金額を管理するので精一杯    


## Snackbotを使用するメリット
デジタルで管理できる
- データ損失のリスクを防げる  
- 詳細な購入記録を記録できる  
- Slack上でのBotとの簡単なやり取りで記録できる  
- 管理者は購入金額管理が楽になる

## Snackbotとのやり取りで使用可能なコマンド
**コーヒー系DB** と **その他DB** で別々に購入金額を管理しているものとする  

### ユーザ  
- `buy <price>`  
  price円の商品を購入する（金額はその他DBに追加される）
- `"coffee"|"tea"`  
  - `coffee`の場合はコーヒーを購入する（coffeeに設定された金額がコーヒー系DBに追加される）  
  - `tes`の場合は紅茶を購入する（teaに設定された金額がコーヒー系DBに追加される）
- `pay <"other"|"coffee"> <price>`  
  - `pay other <price>`の場合はその他DBに対してprice円支払う
  - `pay coffee <price>`の場合はコーヒー系DBに対してprice円支払う 　
- `unpaid`  
  自分の未支払いの金額を表示する
- `history <"buy"|"pay"> <num>`  
  - `history buy <num>`の場合はnum件の最新の購入履歴を表示  
  - `history pay <num>`の場合はnum件の最新の支払い履歴を表示  　
- `help`  
  コマンドの使用方法を表示する
  

### 管理者  
- `remind <num>`  
  未支払金がnum以上のユーザに対してSlackメッセージを送信し、支払いを促す  
- `list`  
  未支払金が0円より大きいユーザのユーザ名と未支払金を表示する。
